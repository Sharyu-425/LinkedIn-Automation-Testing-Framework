package com.stepDefinition;

import java.util.Map;

import org.junit.Assert;

import com.pages.SearchPageFac;
import com.parameters.ExcelReader;
import com.setup.BaseSteps;

import io.cucumber.java.en.Given;
import io.cucumber.java.en.Then;
import io.cucumber.java.en.When;

public class LinkedInSteps {
	SearchPageFac searchPageFac ;
	//--------------------------------------BACKGROUND-----------------------------

@Given("user launches the browser")
public void user_launches_the_browser() {
	System.out.println("Browser is Launched");

}
@Given("user logs into LinkedIn with valid credentials")
public void user_logs_into_linked_in_with_valid_credentials() {
	System.out.println("Login is handled via hooks with Excel-drivern data");

}


//-------------------------------------@TS_LinkedIn_01-----------------------------------------------


@When("User enters a {string} in the seach bar and presses Enter")
public void user_enters_a_in_the_seach_bar_and_presses_enter(String string) {
	ExcelReader reader = new ExcelReader("src\\test\\resources\\ExcelData\\RequiredData.xlsx");
	Map<String,String>data=reader.getRowData("SearchData", 1);
	String keyword = data.get("SearchKeyword");
	
	searchPageFac = new SearchPageFac(BaseSteps.driver);
	searchPageFac.searchForProfile(keyword);

}
@Then("User should see search results related to the keyword")
public void user_should_see_search_results_related_to_the_keyword() {
	Assert.assertTrue("Search Redults were not displayed", searchPageFac.isSearchResultDisplayed());

}
@Then("Relevant profiles should be displayed")
public void relevant_profiles_should_be_displayed() {
	Assert.assertTrue("Relevant profile Displayed",searchPageFac.isValidProfile());
}

//------------------------------------------------------------------------------------------


}
